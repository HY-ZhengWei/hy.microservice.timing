<?xml version="1.0" encoding="UTF-8"?>

<config>

    <import name="sqls"            class="java.util.ArrayList" />
    <import name="sqlGroup"        class="org.hy.common.xml.plugins.XSQLGroup" />
    <import name="sql"             class="org.hy.common.xml.XSQL" />



    <!-- 任务责任人的相关SQL -->
    <sqls>
    
        <sql id="XSQL_Timing_JobUser_Insert"> 
        
            <dataSourceGroup ref="DSG_MS_Timing" />
            
            <content>
                <![CDATA[
                INSERT  INTO TJobUser
                       (
                        id
                       ,userName
                       ,phone
                       ,email
                       ,openID
                       ,isDel
                       ,createUserID
                       ,updateUserID
                       ,createTime
                       ,updateTime
                       )
                VALUES (
                        ':id'
                       ,':userName'
                       ,':phone'
                       ,':email'
                       ,':openID'
                       ,':isDel'
                       ,':createUserID'
                       ,':updateUserID'
                       ,NOW()
                       ,NOW()
                       )
                ]]>
            </content>
            
        </sql>
        
        
        
        <sql id="XSQL_Timing_JobUser_Update"> 
        
            <dataSourceGroup ref="DSG_MS_Timing" />
            
            <content>
                <![CDATA[
                UPDATE  TJobUser
                   SET  updateTime   = NOW()
                       ,updateUserID = ':updateUserID'
                    <[ ,userName     = ':userName'      ]>
                    <[ ,phone        = ':phone'         ]>
                    <[ ,email        = ':email'         ]>
                    <[ ,openID       = ':openID'        ]>
                    <[ ,isDel        = ':isDel'         ]>
                 WHERE  id           = ':id'
                ]]>
            </content>
            
        </sql>
        
        
        
        <sql id="XSQL_Timing_JobUser_Query_IsExists"> 
            
            <dataSourceGroup ref="DSG_MS_Timing" />
            
            <content>
                <![CDATA[
                SELECT  COUNT(1)  AS JobUser_IsExists
                  FROM  TJobUser  A
                 WHERE  A.id = ':id'
                ]]>
            </content>
            
            <result>
                <row>java.util.HashMap</row>
                <cfill>put(colName ,colValue)</cfill>
                <cstyle>NORMAL</cstyle>
            </result>
            
        </sql>
        
        
        
        <sql id="XSQL_Timing_JobUser_Query_All"> 
            
            <dataSourceGroup ref="DSG_MS_Timing" />
            
            <content>
                <![CDATA[
                SELECT  A.id
                       ,A.userName
                       ,A.phone
                       ,A.email
                       ,A.openID
                       ,A.createUserID
                       ,A.updateUserID
                       ,A.createTime
                       ,A.updateTime
                  FROM  TJobUser  A
                 WHERE  A.isDel = 0
              <[   AND  A.id    = ':id'   ]>
                 ORDER  BY A.userName
                          ,A.createTime
                ]]>
            </content>
            
            <result>
                <row>org.hy.microservice.timing.monitor.JobUser</row>
                <cfill>setter(colValue)</cfill>
            </result>
            
        </sql>
        
        
        
        <sql id="XSQL_Timing_JobUser_Query_ByJobID"> 
            
            <dataSourceGroup ref="DSG_MS_Timing" />
            
            <content>
                <![CDATA[
                SELECT  A.id
                       ,A.userName
                       ,A.phone
                       ,A.email
                       ,A.openID
                       ,A.createUserID
                       ,A.updateUserID
                       ,A.createTime
                       ,A.updateTime
                  FROM  TJobUser     A
                       ,TJobUserRef  B
                 WHERE  A.isDel  = 0
                   AND  B.userID = A.id
                   AND  B.jobID  = ':id'  
                 ORDER  BY A.userName
                          ,A.createTime
                ]]>
            </content>
            
            <result>
                <row>org.hy.microservice.timing.monitor.JobUser</row>
                <cfill>setter(colValue)</cfill>
            </result>
            
        </sql>
        
    </sqls>
    
</config>